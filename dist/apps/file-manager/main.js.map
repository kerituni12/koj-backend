{"version":3,"file":"main.js","mappings":";;;;;;;;;;;AAAA,uDAAuE;AAGvE,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;IAC9B,KAAK,CAAC,SAAc,EAAE,IAAmB;QACvC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACzB,CAAC;CACF;AAJY,mBAAmB;IAD/B,kBAAK,GAAE;GACK,mBAAmB,CAI/B;AAJY,kDAAmB;;;;;;;;;;;;;ACHhC,8BAAgB;AAChB,2EAA4D;AAC5D,uDASwB;AAExB,sGAA4D;AAC5D,wEAAuC;AAIvC,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;IAChC,YAA6B,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;IAAG,CAAC;IAIvE,UAAU,CAAS,IAAI,EAAS,GAAG;QACjC,OAAO,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC;YACxC,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAGD,UAAU,CAAS,IAAI,EAAS,GAAG;QACjC,OAAO,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC;YACxC,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAGD,GAAG,CAAS,IAAI,EAAS,GAAG;QAC1B,OAAO,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;IACvF,CAAC;IAID,MAAM,CAAS,IAAI,EAAS,GAAG;QAC7B,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC;QAC/B,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;YACpC,IAAI;YACJ,OAAO,EAAE,OAAO;YAChB,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,UAAU,CAAS,IAAI,EAAS,GAAG;QACjC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;QAC5B,OAAO,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC;YACxC,IAAI;YACJ,IAAI;YACJ,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,YAAY,CAAS,IAAI,EAAS,GAAG;QACnC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;QACpC,OAAO,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;YAC1C,IAAI;YACJ,MAAM;YACN,IAAI;YACJ,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,MAAM,CAAS,IAAI,EAAS,GAAG;QAC7B,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;YACpC,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,QAAQ,CAAS,IAAI,EAAS,GAAG;QAC/B,OAAO,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC;YACtC,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,SAAS,CAAS,IAAI,EAAS,GAAG;QAChC,OAAO,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;YACvC,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,IAAI,CAAS,IAAI,EAAS,GAAG;QAC3B,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC;QACpC,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;YAClC,KAAK;YACL,WAAW;YACX,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,IAAI,CAAS,IAAI,EAAS,GAAG;QAC3B,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC;QACpC,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;YAClC,KAAK;YACL,WAAW;YACX,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,KAAK,CAAS,IAAI,EAAS,GAAG;QAC5B,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC;QACnC,OAAO,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;YACnC,IAAI;YACJ,WAAW;YACX,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,OAAO,CAAS,IAAI,EAAS,GAAG;QAC9B,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;QAC1C,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;YACrC,KAAK;YACL,WAAW;YACX,IAAI;YACJ,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAID,SAAS,CAAS,IAAI,EAAS,GAAG;QAChC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QACnC,OAAO,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;YACvC,IAAI;YACJ,IAAI;YACJ,KAAK;YACL,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;IAKD,WAAW,CACD,IAAI,EACL,GAAG,EACO,KAAiC;QAElD,OAAO,CAAC,GAAG,CACT,gFAAgF,EAChF,GAAG,CAAC,IAAI,CACT,CAAC;QACF,OAAO,CAAC,GAAG,CACT,+FAA+F,EAC/F,KAAK,CACN,CAAC;QACF,OAAO,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;YACzC,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,KAAK;YACL,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;SAC5B,CAAC,CAAC;IACL,CAAC;CACF;AAhKC;IAFC,iBAAI,EAAC,aAAa,CAAC;IACnB,sBAAS,EAAC,oBAAY,CAAC;IACZ,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;uDAK9B;AAGD;IAFC,iBAAI,EAAC,SAAS,CAAC;IACf,sBAAS,EAAC,oBAAY,CAAC;IACZ,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;uDAK9B;AAGD;IAFC,iBAAI,EAAC,MAAM,CAAC;IACZ,sBAAS,EAAC,oBAAY,CAAC;IACnB,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;gDAEvB;AAID;IAFC,iBAAI,EAAC,SAAS,CAAC;IACf,sBAAS,EAAC,oBAAY,CAAC;IAChB,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;mDAO1B;AAID;IAFC,iBAAI,EAAC,aAAa,CAAC;IACnB,sBAAS,EAAC,oBAAY,CAAC;IACZ,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;uDAO9B;AAID;IAFC,iBAAI,EAAC,eAAe,CAAC;IACrB,sBAAS,EAAC,oBAAY,CAAC;IACV,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;yDAQhC;AAID;IAFC,iBAAI,EAAC,SAAS,CAAC;IACf,sBAAS,EAAC,oBAAY,CAAC;IAChB,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;mDAK1B;AAID;IAFC,iBAAI,EAAC,OAAO,CAAC;IACb,sBAAS,EAAC,oBAAY,CAAC;IACd,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;qDAK5B;AAID;IAFC,iBAAI,EAAC,OAAO,CAAC;IACb,sBAAS,EAAC,oBAAY,CAAC;IACb,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;sDAK7B;AAID;IAFC,iBAAI,EAAC,WAAW,CAAC;IACjB,sBAAS,EAAC,oBAAY,CAAC;IAClB,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;iDAOxB;AAID;IAFC,iBAAI,EAAC,QAAQ,CAAC;IACd,sBAAS,EAAC,oBAAY,CAAC;IAClB,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;iDAOxB;AAID;IAFC,iBAAI,EAAC,UAAU,CAAC;IAChB,sBAAS,EAAC,oBAAY,CAAC;IACjB,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;kDAOzB;AAID;IAFC,iBAAI,EAAC,YAAY,CAAC;IAClB,sBAAS,EAAC,oBAAY,CAAC;IACf,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;oDAQ3B;AAID;IAFC,iBAAI,EAAC,YAAY,CAAC;IAClB,sBAAS,EAAC,oBAAY,CAAC;IACb,yCAAI,GAAE;IAAQ,wCAAG,GAAE;;;;sDAQ7B;AAKD;IAHC,iBAAI,EAAC,SAAS,CAAC;IACf,4BAAe,EAAC,uCAAgB,EAAC,OAAO,CAAC,CAAC;IAC1C,sBAAS,EAAC,oBAAY,CAAC;IAErB,yCAAI,GAAE;IACN,wCAAG,GAAE;IACL,kDAAa,GAAE;;sFAAQ,KAAK,oBAAL,KAAK;;wDAe9B;AApKU,qBAAqB;IADjC,uBAAU,GAAE;sEAEsC,yCAAkB,oBAAlB,yCAAkB;GADxD,qBAAqB,CAqKjC;AArKY,sDAAqB;;;;;;;;;;;;AClBlC,uDAAwC;AACxC,4GAAkE;AAClE,sGAA4D;AAC5D,2EAAwD;AACxD,yEAAwB;AACxB,iDAAwC;AACxC,kFAAqD;AACrD,uDAA6D;AAC7D,MAAM,UAAU,GAAG,cAAI,CAAC,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,CAAC;AACpD,MAAM,QAAQ,GAAG,GAAG,UAAU,cAAc,CAAC;AAyB7C,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;CAAG;AAApB,iBAAiB;IAxB7B,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,qBAAY,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YACxC,+BAAY,CAAC,aAAa,CAAC;gBACzB,UAAU,EAAE,GAAG,EAAE,CAAC,CAAC;oBACjB,IAAI,EAAE,QAAQ;oBACd,MAAM,EAAE;wBACN,KAAK,EAAE,EAAE;wBACT,SAAS,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE,uBAAuB;qBACpD;oBACD,OAAO,EAAE,UAAU,GAAG,EAAE,IAAI;wBAC1B,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;wBAC1B,IAAI,CAAC,GAAG,CAAC,CAAC;oBACZ,CAAC;iBACF,CAAC;aACH,CAAC;YACF,eAAS,CAAC,QAAQ,CAAC;gBACjB,MAAM,EAAE,0BAA0B;gBAClC,WAAW,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE;aAClC,CAAC;SACH;QACD,WAAW,EAAE,CAAC,+CAAqB,CAAC;QACpC,SAAS,EAAE,CAAC,yCAAkB,EAAE,wBAAW,EAAE,sBAAa,CAAC;KAC5D,CAAC;GACW,iBAAiB,CAAG;AAApB,8CAAiB;;;;;;;;;;;;AClC9B,qEAAoB;AACpB,yEAAwB;AACxB,iFAA+B;AAC/B,iFAAgC;AAChC,iFAAgC;AAChC,uDAAmD;AAEnD,wEAA8C;AAE9C,4GAA8D;AAC9D,wFAAiF;AAEjF,MAAM,OAAO,GAAG,cAAI,CAAC,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,CAAC;AACjD,MAAM,UAAU,GAAG,OAAO,GAAG,UAAU,CAAC;AAExC,MAAa,kBAAkB;IACvB,UAAU,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;;YACjC,MAAM,KAAK,GAAG,uCAAa,EAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,0BAAU,EAAC,IAAI,CAAC,EAAE,EAAE;gBAC1E,aAAa,EAAE,IAAI;gBACnB,UAAU,EAAE,OAAO;gBACnB,YAAY,EAAE,IAAI;aACnB,CAAC,CAAC;YACH,OAAO,KAAK,CAAC;QACf,CAAC;KAAA;IACK,UAAU,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;;YACjC,MAAM,KAAK,GAAG,uCAAa,EAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,0BAAU,EAAC,IAAI,CAAC,EAAE,EAAE;gBAC1E,aAAa,EAAE,IAAI;gBACnB,UAAU,EAAE,OAAO;gBACnB,YAAY,EAAE,IAAI;aACnB,CAAC,CAAC;YACH,OAAO,KAAK,CAAC;QACf,CAAC;KAAA;IACK,GAAG,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;;YAC1B,MAAM,KAAK,GAAG,uCAAa,EAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,0BAAU,EAAC,IAAI,CAAC,EAAE,EAAE;gBAC1E,aAAa,EAAE,IAAI;gBACnB,UAAU,EAAE,OAAO;gBACnB,YAAY,EAAE,IAAI;gBAClB,YAAY,EAAE,IAAI;aACnB,CAAC,CAAC;YACH,OAAO,KAAK,CAAC;QACf,CAAC;KAAA;IAEK,MAAM,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE;;YACtC,MAAM,UAAU,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YAEpC,IAAI,CAAC,8BAAc,EAAC,cAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAE;gBAC1C,MAAM,IAAI,0BAAiB,CAAC,qBAAqB,OAAO,EAAE,CAAC,CAAC;aAC7D;YAED,IAAI,CAAC,8BAAc,EAAC,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,EAAE;gBAC1C,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;aACrD;YAED,MAAM,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACvC,QAAQ,CAAC,GAAG,EAAE,CAAC;YACf,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACvB,MAAM,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACtC,YAAE,CAAC,MAAM,CACP,GAAG,UAAU,IAAI,QAAQ,GAAG,UAAU,EAAE,EACxC,GAAG,UAAU,IAAI,QAAQ,GAAG,UAAU,EAAE,EACxC,UAAU,GAAG;gBACX,IAAI,GAAG,EAAE;oBACP,MAAM,IAAI,0BAAiB,CAAC,GAAG,CAAC,CAAC;iBAClC;qBAAM;oBACL,OAAO;wBACL,MAAM,EAAE,SAAS;wBACjB,OAAO,EAAE,qCAAqC;qBAC/C,CAAC;iBACH;YACH,CAAC,CACF,CAAC;QACJ,CAAC;KAAA;IAEK,UAAU,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE;;YACvC,MAAM,UAAU,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YACpC,MAAM,UAAU,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YAEpC,IAAI,CAAC,8BAAc,EAAC,cAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,EAAE;gBAC7C,MAAM,IAAI,0BAAiB,CAAC,qBAAqB,UAAU,EAAE,CAAC,CAAC;aAChE;YACD,IAAI,CAAC,8BAAc,EAAC,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,EAAE;gBAC7C,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;aACrD;YACD,YAAE,CAAC,IAAI,CACL,GAAG,UAAU,IAAI,QAAQ,GAAG,UAAU,IAAI,UAAU,EAAE,EACtD,IAAI,EACJ,UAAU,GAAG,EAAE,EAAE;gBACf,IAAI,GAAG,EAAE;oBACP,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,CAAC,CAAC;iBAC1D;gBACD,YAAE,CAAC,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG;oBACxB,IAAI,GAAG,EAAE;wBACP,MAAM,IAAI,0BAAiB,CAAC,0BAA0B,CAAC,CAAC;qBACzD;yBAAM;wBACL,OAAO;4BACL,MAAM,EAAE,SAAS;4BACjB,OAAO,EAAE,qCAAqC;yBAC/C,CAAC;qBACH;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CACF,CAAC;QACJ,CAAC;KAAA;IAEK,YAAY,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE;;YACjD,MAAM,UAAU,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YACpC,MAAM,YAAY,GAAG,0BAAU,EAAC,MAAM,CAAC,CAAC;YACxC,MAAM,KAAK,GAAG,OAAO,IAAI,KAAK,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;YAEzD,YAAE,CAAC,KAAK,CACN,GAAG,UAAU,IAAI,QAAQ,GAAG,UAAU,IAAI,YAAY,EAAE,EACxD,KAAK,EACL,UAAU,GAAG;gBACX,IAAI,GAAG,EAAE;oBACP,IAAI,GAAG,CAAC,IAAI,IAAI,QAAQ,EAAE;wBACxB,MAAM,IAAI,0BAAiB,CAAC,uBAAuB,CAAC,CAAC;qBACtD;oBACD,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;iBACrD;qBAAM;oBACL,OAAO;wBACL,MAAM,EAAE,SAAS;wBACjB,OAAO,EAAE,6BAA6B;qBACvC,CAAC;iBACH;YACH,CAAC,CACF,CAAC;QACJ,CAAC;KAAA;IAEK,MAAM,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;;YAC9B,IAAI,CAAC,8BAAc,EAAC,CAAC,KAAK,CAAC,CAAC,EAAE;gBAC5B,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;aACrD;YACD,MAAM,eAAe,GAAG,EAAE,CAAC;YAC3B,MAAM,YAAY,GAAG,EAAE,CAAC;YACxB,KAAK,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,CAAC,EAAE,GAAG;gBAClC,IAAI,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;gBACxB,eAAe,CAAC,IAAI,CAClB,kBAAO,CAAC,MAAM,CAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,IAAI,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE;oBACzD,IAAI,GAAG,EAAE;wBACP,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;qBAClC;gBACH,CAAC,CAAC,CACH,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC;iBACzB,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;gBACf,OAAO;oBACL,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE,qCAAqC;iBAC/C,CAAC;YACJ,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBACf,MAAM,IAAI,0BAAiB,CAAC,YAAY,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAC;QACP,CAAC;KAAA;IAEK,QAAQ,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;;YAC/B,MAAM,UAAU,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YACpC,kBAAO,CAAC,QAAQ,CAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,UAAU,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE;gBACjE,IAAI,GAAG;oBAAE,MAAM,IAAI,0BAAiB,CAAC,GAAG,CAAC,CAAC;gBAC1C,OAAO;oBACL,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE,6CAA6C;iBACvD,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAEK,SAAS,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE;;YAChC,MAAM,UAAU,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,8BAAc,EAAC,CAAC,UAAU,CAAC,CAAC,EAAE;gBACjC,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;aACrD;YACD,IAAI,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACpC,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YACvC,OAAO;gBACL,OAAO,CAAC,MAAM,GAAG,CAAC;oBAChB,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,SAAS,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE;oBAC5C,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,SAAS,EAAE,CAAC;YAEnC,kBAAO,CAAC,IAAI,CACV,GAAG,UAAU,IAAI,QAAQ,GAAG,UAAU,EAAE,EACxC,GAAG,UAAU,IAAI,QAAQ,GAAG,OAAO,EAAE,EACrC,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,GAAG,EAAE;oBACP,MAAM,IAAI,0BAAiB,CAAC,GAAG,CAAC,CAAC;iBAClC;gBACD,OAAO;oBACL,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE,0CAA0C;iBACpD,CAAC;YACJ,CAAC,CACF,CAAC;QACJ,CAAC;KAAA;IAEK,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE;;YACzC,MAAM,iBAAiB,GAAG,0BAAU,EAAC,WAAW,CAAC,CAAC;YAClD,IAAI,CAAC,8BAAc,EAAC,CAAC,KAAK,EAAE,iBAAiB,CAAC,CAAC,EAAE;gBAC/C,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;aACrD;YACD,MAAM,eAAe,GAAG,EAAE,CAAC;YAC3B,MAAM,SAAS,GAAG,EAAE,CAAC;YACrB,KAAK,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,CAAC,EAAE,GAAG;gBAClC,MAAM,OAAO,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;gBACjC,MAAM,cAAc,GAClB,GAAG,UAAU,IAAI,QAAQ,GAAG,iBAAiB,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;gBAC3E,eAAe,CAAC,IAAI,CAClB,kBAAO,CAAC,IAAI,CAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,OAAO,EAAE,EAAE,cAAc,EAAE,CAAC,GAAG,EAAE,EAAE;oBAC1E,IAAI,GAAG,EAAE;wBACP,SAAS,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC;qBAClC;gBACH,CAAC,CAAC,CACH,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC;iBACzB,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;gBACf,OAAO;oBACL,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE,sCAAsC;iBAChD,CAAC;YACJ,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBACf,MAAM,IAAI,0BAAiB,CAAC,SAAS,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC;QACP,CAAC;KAAA;IAEK,IAAI,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE;;YACzC,MAAM,iBAAiB,GAAG,0BAAU,EAAC,WAAW,CAAC,CAAC;YAClD,IAAI,CAAC,8BAAc,EAAC,CAAC,KAAK,EAAE,iBAAiB,CAAC,CAAC,EAAE;gBAC/C,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;aACrD;YACD,MAAM,eAAe,GAAG,EAAE,CAAC;YAC3B,MAAM,SAAS,GAAG,EAAE,CAAC;YACrB,IAAI;gBACF,KAAK,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,CAAC,EAAE,GAAG;oBAClC,MAAM,OAAO,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;oBACjC,MAAM,cAAc,GAClB,GAAG,UAAU,IAAI,QAAQ,GAAG,iBAAiB,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;oBAC3E,eAAe,CAAC,IAAI,CAClB,kBAAO,CAAC,QAAQ,CAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,OAAO,EAAE,EAAE,cAAc,EAAE;wBACtE,SAAS,EAAE,IAAI;qBAChB,CAAC,CACH,CAAC;gBACJ,CAAC,CAAC,CAAC;gBACH,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;oBAC3C,OAAO;wBACL,MAAM,EAAE,SAAS;wBACjB,OAAO,EAAE,qCAAqC;qBAC/C,CAAC;gBACJ,CAAC,CAAC,CAAC;aACJ;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,IAAI,0BAAiB,CAAC,KAAK,CAAC,CAAC;aACpC;QACH,CAAC;KAAA;IAEK,KAAK,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE;;YACzC,IAAI,CAAC,8BAAc,EAAC,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,EAAE;gBACxC,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;aACrD;YACD,IAAI,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YACxB,WAAW;gBACT,WAAW,KAAK,EAAE,IAAI,WAAW,KAAK,SAAS;oBAC7C,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE;oBACzB,CAAC,CAAC,0BAAU,EAAC,WAAW,CAAC,CAAC;YAC9B,IAAI;gBACF,MAAM,GAAG,GAAG,YAAE;qBACX,gBAAgB,CAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,IAAI,EAAE,CAAC;qBACpD,IAAI,CAAC,kBAAQ,CAAC,KAAK,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAQ,CAAC;gBACtD,KAAK,MAAM,KAAK,IAAI,GAAG,EAAE;oBACvB,IAAI,8BAAc,EAAC,cAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE;wBAC5C,KAAK,CAAC,IAAI,CACR,YAAE,CAAC,iBAAiB,CAAC,GAAG,UAAU,IAAI,QAAQ,GAAG,WAAW,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC,CAC9E,CAAC;qBACH;yBAAM;wBACL,KAAK,CAAC,SAAS,EAAE,CAAC;qBACnB;iBACF;gBAED,OAAO;oBACL,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE,iCAAiC;iBAC3C,CAAC;aACH;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,IAAI,0BAAiB,CAAC,KAAK,CAAC,CAAC;aACpC;QACH,CAAC;KAAA;IAEK,OAAO,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,QAAQ,EAAE;;YAClD,MAAM,iBAAiB,GAAG,MAAM,0BAAU,EAAC,WAAW,CAAC,CAAC;YACxD,MAAM,UAAU,GAAG,MAAM,0BAAU,EAAC,IAAI,CAAC,CAAC;YAC1C,IAAI;gBACF,MAAM,MAAM,GAAG,YAAE,CAAC,iBAAiB,CACjC,GAAG,UAAU,IAAI,QAAQ,GAAG,iBAAiB,IAAI,UAAU,MAAM,CAClE,CAAC;gBACF,MAAM,OAAO,GAAG,sBAAQ,EAAC,KAAK,EAAE;oBAC9B,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,8BAA8B;iBACnD,CAAC,CAAC;gBAEH,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACrB,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,GAAG;oBAC/B,MAAM,IAAI,0BAAiB,CAAC,GAAG,CAAC,CAAC;gBACnC,CAAC,CAAC,CAAC;gBAEH,MAAM,KAAK,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,CAAC,EAAE,GAAG;oBACxC,MAAM,OAAO,GAAG,GAAG,UAAU,IAAI,QAAQ,GAAG,0BAAU,EAAC,IAAI,CAAC,EAAE,CAAC;oBAC/D,MAAM,UAAU,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC;oBACjD,IAAI,YAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;wBACvC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;qBACxC;yBAAM;wBACL,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;qBAC7C;gBACH,CAAC,CAAC,CAAC;gBAEH,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE;oBACjB,OAAO;wBACL,MAAM,EAAE,SAAS;wBACjB,OAAO,EAAE,+BAA+B;qBACzC,CAAC;gBACJ,CAAC,CAAC,CAAC;gBACH,OAAO,CAAC,QAAQ,EAAE,CAAC;aACpB;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,IAAI,0BAAiB,CAAC,KAAK,CAAC,CAAC;aACpC;QACH,CAAC;KAAA;IAEK,SAAS,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE;;YAC7C,IAAI,UAAU,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YAClC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC;YAC3C,IAAI,CAAC,8BAAc,EAAC,cAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,EAAE;gBAC7C,MAAM,IAAI,0BAAiB,CAAC,qBAAqB,UAAU,EAAE,CAAC,CAAC;aAChE;YACD,IAAI,CAAC,8BAAc,EAAC,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,EAAE;gBACvC,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;aACrD;YACD,IAAI,KAAK,EAAE;gBACT,MAAM,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACtC,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;gBACvC,UAAU,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,SAAS,IAAI,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;aACzD;YACD,YAAE,CAAC,SAAS,CACV,GAAG,UAAU,IAAI,QAAQ,GAAG,UAAU,EAAE,EACxC,IAAI,EACJ,EAAE,QAAQ,EAAE,QAAQ,EAAE,EACtB,UAAU,GAAG;gBACX,IAAI,GAAG,EAAE;oBACP,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,CAAC,CAAC;iBAC1D;gBACD,OAAO;oBACL,MAAM,EAAE,SAAS;oBACjB,OAAO,EAAE,qCAAqC;iBAC/C,CAAC;YACJ,CAAC,CACF,CAAC;QACJ,CAAC;KAAA;IAEK,WAAW,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE;;YACzC,MAAM,UAAU,GAAG,0BAAU,EAAC,IAAI,CAAC,CAAC;YAEpC,IAAI;gBACF,KAAK,CAAC,OAAO,CAAC,UAAU,OAAO,EAAE,KAAK,EAAE,KAAK;oBAC3C,IAAI,8BAAc,EAAC,cAAI,CAAC,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE;wBACtD,YAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,UAAgB,GAAG,EAAE,IAAI;;gCACjD,MAAM,IAAI,GAAG,GAAG,UAAU,IAAI,QAAQ,GAAG,UAAU,IAAI,OAAO,CAAC,YAAY,EAAE,CAAC;gCAE9E,MAAM,qBAAS,EAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gCAC5B,kBAAO,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,EAAE;oCACnC,IAAI,GAAG,EAAE;wCACP,MAAM,IAAI,0BAAiB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;qCAC1C;gCACH,CAAC,CAAC,CAAC;4BACL,CAAC;yBAAA,CAAC,CAAC;qBACJ;gBACH,CAAC,CAAC,CAAC;aACJ;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,IAAI,0BAAiB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aAC5C;YAED,OAAO;gBACL,MAAM,EAAE,SAAS;gBACjB,OAAO,EAAE,iCAAiC;aAC3C,CAAC;QACJ,CAAC;KAAA;CACF;AA9WD,gDA8WC;;;;;;;;;;;;AC7XD,uDAA4C;AAC5C,2DAA6C;AAG7C,IAAa,YAAY,GAAzB,MAAa,YAAa,SAAQ,wBAAS,EAAC,KAAK,CAAC;CAAG;AAAxC,YAAY;IADxB,uBAAU,GAAE;GACA,YAAY,CAA4B;AAAxC,oCAAY;;;;;;;;;;;;ACJzB,gEAAyB;AACzB,yEAAwB;AAExB,MAAM,SAAS,GAAG;IAChB,SAAS,EAAE,QAAQ;IACnB,IAAI,EAAE,MAAM;CACb,CAAC;AAEF,SAAgB,eAAe,CAAC,IAAI;IAClC,IAAI,OAAO,GAAG,EAAE,CAAC;IACjB,IAAI;QACF,OAAO,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KAChC;IAAC,OAAO,EAAE,EAAE;QACX,IAAI,EAAE,CAAC,IAAI,IAAI,QAAQ,IAAI,EAAE,CAAC,IAAI,IAAI,OAAO,EAAE;YAC7C,kDAAkD;YAClD,OAAO,IAAI,CAAC;SACb;;YAAM,MAAM,EAAE,CAAC;KACjB;IACD,OAAO,OAAO,CAAC;AACjB,CAAC;AAXD,0CAWC;AAED;;;;GAIG;AACH,SAAgB,aAAa,CAAC,IAAI;IAChC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAClC,CAAC;AAFD,sCAEC;AAED;;;;GAIG;AACH,SAAgB,QAAQ,CAAC,MAAM;IAC7B,OAAO,OAAO,MAAM,KAAK,QAAQ,IAAI,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC;AACpE,CAAC;AAFD,4BAEC;AACD,SAAgB,kBAAkB,CAAC,IAAI;IACrC,OAAO;QACL,MAAM,EAAE,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QAC/E,KAAK,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACjF,KAAK,EAAE,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;KACrF,CAAC;AACJ,CAAC;AAND,gDAMC;AAED;;;;;;;;GAQG;AACH,SAAgB,aAAa,CAC3B,IAAY,EACZ,OAAQ,EACR,UAAW,EACX,eAAgB,EAChB,KAAM;IAEN,MAAM,IAAI,GAAG,cAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAEjC,MAAM,IAAI,GAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACjC,IAAI,KAAK,CAAC;IAEV,IAAI;QACF,KAAK,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KAC3B;IAAC,OAAO,CAAC,EAAE;QACV,OAAO,IAAI,CAAC;KACb;IAED,uCAAuC;IACvC,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,EAAE;QAC9B,MAAM,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC;QACjF,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;YACtD,OAAO,IAAI,CAAC;SACb;KACF;IACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;IAC/B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;IAC5B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,SAAS,CAAC;IAChC,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,GAAG,EAAE,CAAC;IACtC,qDAAqD;IAErD,IAAI,KAAK,CAAC,MAAM,EAAE,IAAI,OAAO,CAAC,YAAY,EAAE;QAC1C,MAAM,GAAG,GAAG,cAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;QAC7C,gDAAgD;QAChD,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;YAAE,OAAO,IAAI,CAAC;QAEhF,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,qBAAqB;QAC7C,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;QAE3E,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,EAAE;YACjC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;gBACvC,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,UAAU,EAAE;YACd,UAAU,CAAC,IAAI,EAAE,cAAI,EAAE,KAAK,CAAC,CAAC;SAC/B;KACF;SAAM,IAAI,KAAK,CAAC,WAAW,EAAE,EAAE;QAC9B,MAAM,OAAO,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,OAAO,KAAK,IAAI;YAAE,OAAO,IAAI,CAAC;QAElC,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,EAAE;YACjC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;gBACvC,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YACzB,IAAI,CAAC,KAAK,EAAE;gBACV,IAAI,CAAC,QAAQ,GAAG,OAAO;qBACpB,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CACb,aAAa,CACX,cAAI,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,EACtB,OAAO,EACP,UAAU,EACV,eAAe,EACf,IAAI,CACL,CACF;qBACA,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gBACpE,IAAI,eAAe,EAAE;oBACnB,eAAe,CAAC,IAAI,EAAE,cAAI,EAAE,KAAK,CAAC,CAAC;iBACpC;aACF;SACF;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG,OAAO;iBACpB,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CACb,aAAa,CACX,cAAI,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,EACtB,OAAO,EACP,UAAU,EACV,eAAe,EACf,KAAK,CACN,CACF;iBACA,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACpE,IAAI,eAAe,EAAE;gBACnB,eAAe,CAAC,IAAI,EAAE,cAAI,EAAE,KAAK,CAAC,CAAC;aACpC;SACF;KACF;SAAM;QACL,OAAO,IAAI,CAAC,CAAC,uDAAuD;KACrE;IACD,IAAI,CAAC,IAAI;QACP,OAAO,IAAI,OAAO,CAAC,aAAa;YAC9B,CAAC,CAAC,OAAO,CAAC,UAAU;gBAClB,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC;gBACzE,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;YAC5B,CAAC,CAAC,OAAO,CAAC,UAAU;gBACpB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;gBAC3C,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IAChB,OAAO,IAAI,CAAC;AACd,CAAC;AA1GD,sCA0GC;;;;;;;;;;;ACjKD,SAAgB,UAAU,CAAC,IAAI;IAC7B,OAAO,OAAO,IAAI,KAAK,WAAW;QAChC,IAAI,KAAK,WAAW;QACpB,IAAI,KAAK,EAAE;QACX,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QACpB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QACpB,CAAC,CAAC,IAAI;QACN,CAAC,CAAC,WAAW,CAAC;AAClB,CAAC;AARD,gCAQC;AAED,SAAgB,cAAc,CAAC,SAAS;IACtC,MAAM,YAAY,GAAG;QACnB,MAAM;QACN,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,KAAK;QACL,MAAM;QACN,MAAM;QACN,MAAM;KACP,CAAC;IACF,OAAO,SAAS,KAAK,EAAE;QACrB,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACtC,CAAC,CAAC,KAAK;YACP,CAAC,CAAC,IAAI;QACR,CAAC,CAAC,IAAI,CAAC;AACX,CAAC;AA3BD,wCA2BC;AACD,SAAgB,cAAc,CAAC,SAAS;IACtC,IAAI,MAAM,GAAG,IAAI,CAAC;IAClB,SAAS,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;QAC5B,IAAI,OAAO,KAAK,EAAE,IAAI,OAAO,KAAK,SAAS,EAAE;YAC3C,MAAM,GAAG,KAAK,CAAC;SAChB;IACH,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAChB,CAAC;AARD,wCAQC;;;;;;;;;;;AC9CD,4GAAmC;AACnC,oHAA2C;;;;;;;;;;;;;ACA3C,uDAA+C;AAC/C,2DAAoD;AACpD,2DAAoD;AACpD,uDAAmE;AAKnE,IAAa,uBAAuB,GAApC,MAAa,uBAAwB,SAAQ,+BAAgB,EAC3D,uBAAQ,EACR,mBAAmB,CACpB;IACC,YAAqB,aAA4B;QAC/C,KAAK,CAAC;YACJ,cAAc,EAAE,yBAAU,CAAC,cAAc,CAAC;gBACxC,CAAC,OAAgB,EAAE,EAAE;;oBACnB,MAAM,SAAS,GAAG,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,0CAAG,QAAQ,CAAC,CAAC;oBAC/C,MAAM,MAAM,GAAG,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,0CAAG,UAAU,CAAC,CAAC;oBAC9C,MAAM,OAAO,GAAG,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,0CAAG,mBAAmB,CAAC,CAAC;oBACxD,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE;wBACrC,MAAM,IAAI,8BAAqB,CAAC;4BAC9B,OAAO,EAAE,uBAAuB;4BAChC,KAAK,EAAE,MAAM;yBACd,CAAC,CAAC;qBACJ;oBAED,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,MAAM,IAAI,OAAO,IAAI,SAAS,EAAE,CAAC,CAAC;oBAClE,OAAO,GAAG,MAAM,IAAI,OAAO,IAAI,SAAS,EAAE,CAAC;gBAC7C,CAAC;aACF,CAAC;YACF,gBAAgB,EAAE,KAAK;YACvB,WAAW,EAAE,aAAa,CAAC,GAAG,CAAC,oBAAoB,CAAC;SACrD,CAAC,CAAC;QApBgB,kBAAa,GAAb,aAAa,CAAe;IAqBjD,CAAC;IAEK,QAAQ,CAAC,OAAe;;YAC5B,OAAO,CAAC,GAAG,CACT,mEAAmE,EACnE,OAAO,CACR,CAAC;YAEF,OAAO,OAAO,CAAC;QACjB,CAAC;KAAA;CACF;AAnCY,uBAAuB;IADnC,uBAAU,GAAE;sEAKyB,sBAAa,oBAAb,sBAAa;GAJtC,uBAAuB,CAmCnC;AAnCY,0DAAuB;;;;;;;;;;;;;ACRpC,uDAA+C;AAC/C,2DAAoD;AACpD,2DAAoD;AACpD,uDAAmE;AAEnE,wEAA4C;AAK5C,IAAa,WAAW,GAAxB,MAAa,WAAY,SAAQ,+BAAgB,EAAC,uBAAQ,CAAC;IACzD,YAAqB,aAA4B;QAC/C,KAAK,CAAC;YACJ,cAAc,EAAE,yBAAU,CAAC,cAAc,CAAC;gBACxC,CAAC,OAAgB,EAAE,EAAE;;oBACnB,MAAM,SAAS,GAAG,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,0CAAG,QAAQ,CAAC,CAAC;oBAC/C,MAAM,MAAM,GAAG,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,0CAAG,UAAU,CAAC,CAAC;oBAC9C,MAAM,OAAO,GAAG,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,0CAAG,kBAAkB,CAAC,CAAC;oBACvD,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE;wBACrC,oCAAoC;wBACpC,mCAAmC;wBACnC,mBAAmB;wBACnB,MAAM;qBACP;oBAED,OAAO,CAAC,GAAG,CAAC,GAAG,MAAM,IAAI,OAAO,IAAI,SAAS,EAAE,CAAC,CAAC;oBACjD,OAAO,GAAG,MAAM,IAAI,OAAO,IAAI,SAAS,EAAE,CAAC;gBAC7C,CAAC;aACF,CAAC;YACF,gBAAgB,EAAE,KAAK;YACvB,WAAW,EAAE,aAAa,CAAC,GAAG,CAAC,mBAAmB,CAAC;SACpD,CAAC,CAAC;QApBgB,kBAAa,GAAb,aAAa,CAAe;IAqBjD,CAAC;IAEK,QAAQ,CAAC,OAAe;;YAC5B,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,mBAAO,EAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YACzD,uCAAY,OAAO,GAAK,WAAW,EAAG;QACxC,CAAC;KAAA;CACF;AA5BY,WAAW;IADvB,uBAAU,GAAE;sEAEyB,sBAAa,oBAAb,sBAAa;GADtC,WAAW,CA4BvB;AA5BY,kCAAW;;;;;;;;;;;ACXxB,oGAAgC;AAChC,sGAAkC;AAClC,sGAAkC;AAClC,sGAAkC;AAClC,8GAA0C;;;;;;;;;;;ACJ1C,SAAgB,QAAQ,CAAC,OAA8B,EAAE,GAAG,IAAI;IAC9D,OAAO,UAAU,GAAG,MAAM;QACxB,MAAM,IAAI,GAAY,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;QACtD,MAAM,MAAM,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE,CAAC;YAC3B,MAAM,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC9D,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QACH,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACzB,CAAC,CAAC;AACJ,CAAC;AAVD,4BAUC;;;;;;;;;;;;ACVD,wEAAiC;AAYjC,MAAM,SAAS,GAAG,aAAa,CAAC;AAChC,MAAM,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AAC1C,MAAM,aAAa,GAAG,OAAO,CAAC,GAAG,CAAC,kBAAkB,IAAI,gBAAgB,CAAC;AACzE,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;AAEhE,SAAgB,OAAO,CAAC,IAAY,EAAE,cAAsB,UAAU;IACpE,MAAM,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;IACzE,IAAI,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACxD,aAAa,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACrC,OAAO,EAAE,EAAE,EAAE,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC;IAC/D,EAAE,CAAC;AACL,CAAC;AAND,0BAMC;AAED,SAAgB,OAAO,CAAC,aAA4B,EAAE,cAAsB,UAAU;IACpF,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,aAAa,CAAC;IACnC,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IAC1C,MAAM,QAAQ,GAAG,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;IAC7E,IAAI,aAAa,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IAC1D,aAAa,IAAI,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IACzC,OAAO,aAAa,CAAC;AACvB,CAAC;AAPD,0BAOC;;;;;;;;;;;AChCD,wFAAiD;AAEjD,SAAgB,sBAAsB,CAAC,MAAM,EAAE,MAAM;IACnD,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;SACvB,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;QACX,OAAO,CAAC,GAAG,CAAC,oDAAoD,EAAE,GAAG,CAAC,CAAC;QACvE,MAAM,MAAM,GAAG,kCAAgB,EAAC,GAAG,CAAC,CAAC;QACrC,OAAO,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,KAAK,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;IACnD,CAAC,CAAC;SACD,IAAI,CAAC,IAAI,CAAC,CAAC;AAChB,CAAC;AARD,wDAQC;;;;;;;;;;;;ACVD,oFAA6B;AAC7B,yEAAwB;AACxB,MAAM,UAAU,GAAG,cAAI,CAAC,OAAO,CAAC;AAEhC,SAAsB,SAAS,CAAC,IAAI,EAAE,QAAQ;;QAC5C,OAAO,CAAC,GAAG,CAAC,qDAAqD,EAAE,IAAI,CAAC,CAAC;QACzE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;QAC9B,MAAM,kBAAE,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QACtD,MAAM,kBAAE,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACrC,CAAC;CAAA;AALD,8BAKC;;;;;;;;;;;ACTD,SAAgB,qBAAqB,CAAC,MAAc,EAAE,IAAY;IAChE,OAAO,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AACxD,CAAC;AAFD,sDAEC;AAED,SAAgB,gBAAgB,CAAC,GAAG;IAClC,OAAO,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,IAAI,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;AACvE,CAAC;AAFD,4CAEC;;;;;;;;ACND;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;ACtBA;;;GAGG;;;AAEH,uDAAwC;AACxC,mDAA2C;AAE3C,oGAA0D;AAC1D,kFAAmD;AACnD,2FAAyC;AAEzC,SAAe,SAAS;;QACtB,MAAM,GAAG,GAAG,MAAM,kBAAW,CAAC,MAAM,CAAC,uCAAiB,CAAC,CAAC;QACxD,GAAG,CAAC,gBAAgB,CAAC,IAAI,gCAAmB,EAAE,CAAC,CAAC;QAChD,MAAM,YAAY,GAAG,IAAI,CAAC;QAC1B,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;QAClC,GAAG,CAAC,GAAG,CAAC,2BAAY,GAAE,CAAC,CAAC;QACxB,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,GAAG,CAAC,UAAU,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;QAEpD,MAAM,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACvB,eAAM,CAAC,GAAG,CAAC,kDAAkD,IAAI,IAAI,YAAY,EAAE,CAAC,CAAC;IACvF,CAAC;CAAA;AAED,SAAS,EAAE,CAAC","sources":["webpack://koj/./apps/file-manager/src/exceptions.ts","webpack://koj/./apps/file-manager/src/file-manager.controller.ts","webpack://koj/./apps/file-manager/src/file-manager.module.ts","webpack://koj/./apps/file-manager/src/file-manager.service.ts","webpack://koj/./apps/file-manager/src/guard.ts","webpack://koj/./apps/file-manager/src/utilits/directory-tree.util.ts","webpack://koj/./apps/file-manager/src/utilits/file.util.ts","webpack://koj/./libs/common/strategies/src/index.ts","webpack://koj/./libs/common/strategies/src/lib/jwt-refresh.strategy.ts","webpack://koj/./libs/common/strategies/src/lib/jwt.strategy.ts","webpack://koj/./libs/common/utils/src/index.ts","webpack://koj/./libs/common/utils/src/lib/common.util.ts","webpack://koj/./libs/common/utils/src/lib/crypto.util.ts","webpack://koj/./libs/common/utils/src/lib/database-query.util.ts","webpack://koj/./libs/common/utils/src/lib/file.util.ts","webpack://koj/./libs/common/utils/src/lib/string.util.ts","webpack://koj/external commonjs \"@nestjs/common\"","webpack://koj/external commonjs \"@nestjs/config\"","webpack://koj/external commonjs \"@nestjs/core\"","webpack://koj/external commonjs \"@nestjs/jwt\"","webpack://koj/external commonjs \"@nestjs/passport\"","webpack://koj/external commonjs \"@nestjs/platform-express\"","webpack://koj/external commonjs \"archiver\"","webpack://koj/external commonjs \"cookie-parser\"","webpack://koj/external commonjs \"fs-extra\"","webpack://koj/external commonjs \"multer\"","webpack://koj/external commonjs \"passport-jwt\"","webpack://koj/external commonjs \"tslib\"","webpack://koj/external commonjs \"unzipper\"","webpack://koj/external node-commonjs \"crypto\"","webpack://koj/external node-commonjs \"fs\"","webpack://koj/external node-commonjs \"fs/promises\"","webpack://koj/external node-commonjs \"path\"","webpack://koj/webpack/bootstrap","webpack://koj/./apps/file-manager/src/main.ts"],"sourcesContent":["import { ExceptionFilter, Catch, ArgumentsHost } from '@nestjs/common';\n\n@Catch()\nexport class AllExceptionsFilter implements ExceptionFilter {\n  catch(exception: any, host: ArgumentsHost) {\n    console.log(exception);\n  }\n}\n","import 'multer';\nimport { FilesInterceptor } from '@nestjs/platform-express';\nimport {\n  Body,\n  Controller,\n  Post,\n  Req,\n  UploadedFile,\n  UploadedFiles,\n  UseGuards,\n  UseInterceptors,\n} from '@nestjs/common';\n\nimport { FileManagerService } from './file-manager.service';\nimport { JwtAuthGuard } from './guard';\nimport { AuthGuard } from '@nestjs/passport';\n\n@Controller()\nexport class FileManagerController {\n  constructor(private readonly fileManagerService: FileManagerService) {}\n\n  @Post('/foldertree')\n  @UseGuards(JwtAuthGuard)\n  folderTree(@Body() body, @Req() req) {\n    return this.fileManagerService.folderTree({\n      path: body.path,\n      domainId: req.user.domainId,\n    });\n  }\n  @Post('/folder')\n  @UseGuards(JwtAuthGuard)\n  folderInfo(@Body() body, @Req() req) {\n    return this.fileManagerService.folderInfo({\n      path: body.path,\n      domainId: req.user.domainId,\n    });\n  }\n  @Post('/all')\n  @UseGuards(JwtAuthGuard)\n  all(@Body() body, @Req() req) {\n    return this.fileManagerService.all({ path: body.path, domainId: req.user.domainId });\n  }\n\n  @Post('/rename')\n  @UseGuards(JwtAuthGuard)\n  rename(@Body() body, @Req() req) {\n    const { path, newname } = body;\n    return this.fileManagerService.rename({\n      path,\n      newName: newname,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/createfile')\n  @UseGuards(JwtAuthGuard)\n  createfile(@Body() body, @Req() req) {\n    const { path, file } = body;\n    return this.fileManagerService.createfile({\n      path,\n      file,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/createfolder')\n  @UseGuards(JwtAuthGuard)\n  createfolder(@Body() body, @Req() req) {\n    const { path, folder, mask } = body;\n    return this.fileManagerService.createfolder({\n      path,\n      folder,\n      mask,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/delete')\n  @UseGuards(JwtAuthGuard)\n  delete(@Body() body, @Req() req) {\n    return this.fileManagerService.delete({\n      items: body.items,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/copy')\n  @UseGuards(JwtAuthGuard)\n  emptydir(@Body() body, @Req() req) {\n    return this.fileManagerService.emptydir({\n      path: body.path,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/move')\n  @UseGuards(JwtAuthGuard)\n  duplicate(@Body() body, @Req() req) {\n    return this.fileManagerService.duplicate({\n      path: body.path,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/emptydir')\n  @UseGuards(JwtAuthGuard)\n  copy(@Body() body, @Req() req) {\n    const { items, destination } = body;\n    return this.fileManagerService.copy({\n      items,\n      destination,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/unzip')\n  @UseGuards(JwtAuthGuard)\n  move(@Body() body, @Req() req) {\n    const { items, destination } = body;\n    return this.fileManagerService.move({\n      items,\n      destination,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/archive')\n  @UseGuards(JwtAuthGuard)\n  unzip(@Body() body, @Req() req) {\n    const { file, destination } = body;\n    return this.fileManagerService.unzip({\n      file,\n      destination,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/duplicate')\n  @UseGuards(JwtAuthGuard)\n  archive(@Body() body, @Req() req) {\n    const { files, destination, name } = body;\n    return this.fileManagerService.archive({\n      files,\n      destination,\n      name,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/saveimage')\n  @UseGuards(JwtAuthGuard)\n  saveImage(@Body() body, @Req() req) {\n    const { path, file, isnew } = body;\n    return this.fileManagerService.saveImage({\n      path,\n      file,\n      isnew,\n      domainId: req.user.domainId,\n    });\n  }\n\n  @Post('/upload')\n  @UseInterceptors(FilesInterceptor('files'))\n  @UseGuards(JwtAuthGuard)\n  uploadFiles(\n    @Body() body,\n    @Req() req,\n    @UploadedFiles() files: Array<Express.Multer.File>,\n  ) {\n    console.log(\n      '🚀 ~ file: file-manager.controller.ts ~ line 153 ~ FileManagerController ~ req',\n      req.user,\n    );\n    console.log(\n      '🚀 ~ file: file-manager.controller.ts ~ line 90 ~ FileManagerController ~ uploadFiles ~ files',\n      files,\n    );\n    return this.fileManagerService.uploadFiles({\n      path: body.path,\n      files,\n      domainId: req.user.domainId,\n    });\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { FileManagerController } from './file-manager.controller';\nimport { FileManagerService } from './file-manager.service';\nimport { MulterModule } from '@nestjs/platform-express';\nimport path from 'path';\nimport { JwtModule } from '@nestjs/jwt';\nimport { JwtStrategy } from '@koj/common/strategies';\nimport { ConfigModule, ConfigService } from '@nestjs/config';\nconst coreFolder = path.resolve(__dirname + '/../');\nconst TMP_PATH = `${coreFolder}/uploads/tmp`;\n@Module({\n  imports: [\n    ConfigModule.forRoot({ isGlobal: true }),\n    MulterModule.registerAsync({\n      useFactory: () => ({\n        dest: TMP_PATH,\n        limits: {\n          files: 15, // allow up to 5 files per request,\n          fieldSize: 5 * 1024 * 1024, // 2 MB (max file size)\n        },\n        onError: function (err, next) {\n          console.log('error', err);\n          next(err);\n        },\n      }),\n    }),\n    JwtModule.register({\n      secret: 'nestjsPrismaAccessSecret',\n      signOptions: { expiresIn: '60s' },\n    }),\n  ],\n  controllers: [FileManagerController],\n  providers: [FileManagerService, JwtStrategy, ConfigService],\n})\nexport class FileManagerModule {}\n","import fs from 'fs';\nimport PATH from 'path';\nimport fsExtra from 'fs-extra';\nimport archiver from 'archiver';\nimport unzipper from 'unzipper';\nimport { NotFoundException } from '@nestjs/common';\n\nimport { writeFile } from '@koj/common/utils';\n\nimport { directoryTree } from './utilits/directory-tree.util';\nimport { checkExtension, checkVariables, escapePath } from './utilits/file.util';\n\nconst baseDir = PATH.resolve(__dirname + '/../');\nconst coreFolder = baseDir + '/uploads';\n\nexport class FileManagerService {\n  async folderTree({ path, domainId }) {\n    const paths = directoryTree(`${coreFolder}/${domainId}${escapePath(path)}`, {\n      normalizePath: true,\n      removePath: baseDir,\n      withChildren: true,\n    });\n    return paths;\n  }\n  async folderInfo({ path, domainId }) {\n    const paths = directoryTree(`${coreFolder}/${domainId}${escapePath(path)}`, {\n      normalizePath: true,\n      removePath: baseDir,\n      includeFiles: true,\n    });\n    return paths;\n  }\n  async all({ path, domainId }) {\n    const paths = directoryTree(`${coreFolder}/${domainId}${escapePath(path)}`, {\n      normalizePath: true,\n      removePath: baseDir,\n      includeFiles: true,\n      withChildren: true,\n    });\n    return paths;\n  }\n\n  async rename({ path, newName, domainId }) {\n    const pathEscape = escapePath(path);\n\n    if (!checkExtension(PATH.extname(newName))) {\n      throw new NotFoundException(`Wrong File Format ${newName}`);\n    }\n\n    if (!checkVariables([pathEscape, newName])) {\n      throw new NotFoundException('Variables not seted!');\n    }\n\n    const editPath = pathEscape.split('/');\n    editPath.pop();\n    editPath.push(newName);\n    const renamePath = editPath.join('/');\n    fs.rename(\n      `${coreFolder}/${domainId}${pathEscape}`,\n      `${coreFolder}/${domainId}${renamePath}`,\n      function (err) {\n        if (err) {\n          throw new NotFoundException(err);\n        } else {\n          return {\n            status: 'success',\n            message: 'File or Folder succesfully renamed!',\n          };\n        }\n      },\n    );\n  }\n\n  async createfile({ path, file, domainId }) {\n    const pathEscape = escapePath(path);\n    const fileEscape = escapePath(file);\n\n    if (!checkExtension(PATH.extname(fileEscape))) {\n      throw new NotFoundException(`Wrong File Format ${fileEscape}`);\n    }\n    if (!checkVariables([pathEscape, fileEscape])) {\n      throw new NotFoundException('Variables not seted!');\n    }\n    fs.open(\n      `${coreFolder}/${domainId}${pathEscape}/${fileEscape}`,\n      'wx',\n      function (err, fd) {\n        if (err) {\n          throw new NotFoundException('Error while creating file');\n        }\n        fs.close(fd, function (err) {\n          if (err) {\n            throw new NotFoundException('Error while closing file');\n          } else {\n            return {\n              status: 'success',\n              message: 'File or Folder succesfully renamed!',\n            };\n          }\n        });\n      },\n    );\n  }\n\n  async createfolder({ path, folder, mask, domainId }) {\n    const pathEscape = escapePath(path);\n    const folderEscape = escapePath(folder);\n    const mask$ = typeof mask === 'undefined' ? 0o777 : mask;\n\n    fs.mkdir(\n      `${coreFolder}/${domainId}${pathEscape}/${folderEscape}`,\n      mask$,\n      function (err) {\n        if (err) {\n          if (err.code == 'EEXIST') {\n            throw new NotFoundException('Folder already exists');\n          }\n          throw new NotFoundException('Something goes wrong');\n        } else {\n          return {\n            status: 'success',\n            message: 'Folder succesfully created!',\n          };\n        }\n      },\n    );\n  }\n\n  async delete({ items, domainId }) {\n    if (!checkVariables([items])) {\n      throw new NotFoundException('Variables not seted!');\n    }\n    const pendingRequests = [];\n    const errorDeleted = [];\n    items.forEach(function (item, i, arr) {\n      item = escapePath(item);\n      pendingRequests.push(\n        fsExtra.remove(`${coreFolder}/${domainId}${item}`, (err) => {\n          if (err) {\n            errorDeleted.push({ item, err });\n          }\n        }),\n      );\n    });\n    Promise.all(pendingRequests)\n      .then((values) => {\n        return {\n          status: 'success',\n          message: 'File or folder succesfully deleted!',\n        };\n      })\n      .catch((error) => {\n        throw new NotFoundException(errorDeleted);\n      });\n  }\n\n  async emptydir({ path, domainId }) {\n    const pathEscape = escapePath(path);\n    fsExtra.emptyDir(`${coreFolder}/${domainId}${pathEscape}`, (err) => {\n      if (err) throw new NotFoundException(err);\n      return {\n        status: 'success',\n        message: 'All files and folder inside folder removed!',\n      };\n    });\n  }\n\n  async duplicate({ path, domainId }) {\n    const pathEscape = escapePath(path);\n    if (!checkVariables([pathEscape])) {\n      throw new NotFoundException('Variables not seted!');\n    }\n    let nameNew = pathEscape.split('.');\n    const timestamp = new Date().getTime();\n    nameNew =\n      nameNew.length > 1\n        ? `${nameNew[0]}_${timestamp}.${nameNew[1]}`\n        : `${nameNew[0]}_${timestamp}`;\n\n    fsExtra.copy(\n      `${coreFolder}/${domainId}${pathEscape}`,\n      `${coreFolder}/${domainId}${nameNew}`,\n      (err) => {\n        if (err) {\n          throw new NotFoundException(err);\n        }\n        return {\n          status: 'success',\n          message: 'Files or folders succesfully duplicated!',\n        };\n      },\n    );\n  }\n\n  async copy({ items, destination, domainId }) {\n    const destinationEscape = escapePath(destination);\n    if (!checkVariables([items, destinationEscape])) {\n      throw new NotFoundException('Variables not seted!');\n    }\n    const pendingRequests = [];\n    const errorCopy = [];\n    items.forEach(function (item, i, arr) {\n      const newItem = escapePath(item);\n      const newdestination =\n        `${coreFolder}/${domainId}${destinationEscape}/` + item.split('/').pop();\n      pendingRequests.push(\n        fsExtra.copy(`${coreFolder}/${domainId}${newItem}`, newdestination, (err) => {\n          if (err) {\n            errorCopy.push({ newItem, err });\n          }\n        }),\n      );\n    });\n    Promise.all(pendingRequests)\n      .then((values) => {\n        return {\n          status: 'success',\n          message: 'Files or folders succesfully copied!',\n        };\n      })\n      .catch((error) => {\n        throw new NotFoundException(errorCopy);\n      });\n  }\n\n  async move({ items, destination, domainId }) {\n    const destinationEscape = escapePath(destination);\n    if (!checkVariables([items, destinationEscape])) {\n      throw new NotFoundException('Variables not seted!');\n    }\n    const pendingRequests = [];\n    const errorCopy = [];\n    try {\n      items.forEach(function (item, i, arr) {\n        const newItem = escapePath(item);\n        const newdestination =\n          `${coreFolder}/${domainId}${destinationEscape}/` + item.split('/').pop();\n        pendingRequests.push(\n          fsExtra.moveSync(`${coreFolder}/${domainId}${newItem}`, newdestination, {\n            overwrite: true,\n          }),\n        );\n      });\n      Promise.all(pendingRequests).then((values) => {\n        return {\n          status: 'success',\n          message: 'Files or folders succesfully moved!',\n        };\n      });\n    } catch (error) {\n      throw new NotFoundException(error);\n    }\n  }\n\n  async unzip({ file, destination, domainId }) {\n    if (!checkVariables([file, destination])) {\n      throw new NotFoundException('Variables not seted!');\n    }\n    file = escapePath(file);\n    destination =\n      destination === '' || destination === undefined\n        ? file.split('.').shift()\n        : escapePath(destination);\n    try {\n      const zip = fs\n        .createReadStream(`${coreFolder}/${domainId}${file}`)\n        .pipe(unzipper.Parse({ forceStream: true })) as any;\n      for (const entry of zip) {\n        if (checkExtension(PATH.extname(entry.path))) {\n          entry.pipe(\n            fs.createWriteStream(`${coreFolder}/${domainId}${destination}/${entry.path}`),\n          );\n        } else {\n          entry.autodrain();\n        }\n      }\n\n      return {\n        status: 'success',\n        message: 'Archive successfully extracted!',\n      };\n    } catch (error) {\n      throw new NotFoundException(error);\n    }\n  }\n\n  async archive({ files, destination, name, domainId }) {\n    const destinationEscape = await escapePath(destination);\n    const nameEscape = await escapePath(name);\n    try {\n      const output = fs.createWriteStream(\n        `${coreFolder}/${domainId}${destinationEscape}/${nameEscape}.zip`,\n      );\n      const archive = archiver('zip', {\n        zlib: { level: 9 }, // Sets the compression level.\n      });\n\n      archive.pipe(output);\n      archive.on('error', function (err) {\n        throw new NotFoundException(err);\n      });\n\n      await files.forEach(function (item, i, arr) {\n        const newItem = `${coreFolder}/${domainId}${escapePath(item)}`;\n        const nameEscape = `${newItem.split('/').pop()}`;\n        if (fs.lstatSync(newItem).isDirectory()) {\n          archive.directory(newItem, nameEscape);\n        } else {\n          archive.file(newItem, { name: nameEscape });\n        }\n      });\n\n      output.on('close', function () {\n        return {\n          status: 'success',\n          message: 'Archive successfully created!',\n        };\n      });\n      archive.finalize();\n    } catch (error) {\n      throw new NotFoundException(error);\n    }\n  }\n\n  async saveImage({ path, file, isnew, domainId }) {\n    let pathEscape = escapePath(path);\n    const file$ = file.split(';base64,').pop();\n    if (!checkExtension(PATH.extname(pathEscape))) {\n      throw new NotFoundException(`Wrong File Format ${pathEscape}`);\n    }\n    if (!checkVariables([pathEscape, file])) {\n      throw new NotFoundException('Variables not seted!');\n    }\n    if (isnew) {\n      const nameNew = pathEscape.split('.');\n      const timestamp = new Date().getTime();\n      pathEscape = `${nameNew[0]}_${timestamp}.${nameNew[1]}`;\n    }\n    fs.writeFile(\n      `${coreFolder}/${domainId}${pathEscape}`,\n      file,\n      { encoding: 'base64' },\n      function (err) {\n        if (err) {\n          throw new NotFoundException('Error while creating file');\n        }\n        return {\n          status: 'success',\n          message: 'File or Folder succesfully renamed!',\n        };\n      },\n    );\n  }\n\n  async uploadFiles({ path, files, domainId }) {\n    const pathEscape = escapePath(path);\n\n    try {\n      files.forEach(function (element, index, array) {\n        if (checkExtension(PATH.extname(element.originalname))) {\n          fs.readFile(element.path, async function (err, data) {\n            const path = `${coreFolder}/${domainId}${pathEscape}/${element.originalname}`;\n\n            await writeFile(path, data);\n            fsExtra.remove(element.path, (err) => {\n              if (err) {\n                throw new NotFoundException(err.message);\n              }\n            });\n          });\n        }\n      });\n    } catch (error) {\n      throw new NotFoundException(error.message);\n    }\n\n    return {\n      status: 'success',\n      message: 'Files are succesfully uploaded!',\n    };\n  }\n}\n","import { Injectable } from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\n\n@Injectable()\nexport class JwtAuthGuard extends AuthGuard('jwt') {}\n","import * as fs from 'fs';\nimport PATH from 'path';\n\nconst constants = {\n  DIRECTORY: 'folder',\n  FILE: 'file',\n};\n\nexport function safeReadDirSync(path) {\n  let dirData = [];\n  try {\n    dirData = fs.readdirSync(path);\n  } catch (ex) {\n    if (ex.code == 'EACCES' || ex.code == 'EPERM') {\n      //User does not have permissions, ignore directory\n      return null;\n    } else throw ex;\n  }\n  return dirData;\n}\n\n/**\n * Normalizes windows style paths by replacing double backslahes with single forward slahes (unix style).\n * @param  {string} path\n * @return {string}\n */\nexport function normalizePath(path) {\n  return path.replace(/\\\\/g, '/');\n}\n\n/**\n * Tests if the supplied parameter is of type RegExp\n * @param  {any}  regExp\n * @return {Boolean}\n */\nexport function isRegExp(regExp) {\n  return typeof regExp === 'object' && regExp.constructor == RegExp;\n}\nexport function permissionsConvert(mode) {\n  return {\n    others: (mode & 1 ? 'x-' : '') + (mode & 2 ? 'w-' : '') + (mode & 4 ? 'r' : ''),\n    group: (mode & 10 ? 'x-' : '') + (mode & 20 ? 'w-' : '') + (mode & 40 ? 'r' : ''),\n    owner: (mode & 100 ? 'x-' : '') + (mode & 200 ? 'w-' : '') + (mode & 400 ? 'r' : ''),\n  };\n}\n\n/**\n * Collects the files and folders for a directory path into an Object, subject\n * to the options supplied, and invoking optional\n * @param  {String} path\n * @param  {Object} options\n * @param  {export function} onEachFile\n * @param  {export function} onEachDirectory\n * @return {Object}\n */\nexport function directoryTree(\n  path: string,\n  options?,\n  onEachFile?,\n  onEachDirectory?,\n  depth?,\n) {\n  const name = PATH.basename(path);\n\n  const item: any = { path, name };\n  let stats;\n\n  try {\n    stats = fs.statSync(path);\n  } catch (e) {\n    return null;\n  }\n\n  // Skip if it matches the exclude regex\n  if (options && options.exclude) {\n    const excludes = isRegExp(options.exclude) ? [options.exclude] : options.exclude;\n    if (excludes.some((exclusion) => exclusion.test(path))) {\n      return null;\n    }\n  }\n  item.created = stats.birthtime;\n  item.modified = stats.mtime;\n  item.type = constants.DIRECTORY;\n  item.id = `${item.type}_${stats.ino}`;\n  // item.premissions = permissionsConvert(stats.mode);\n\n  if (stats.isFile() && options.includeFiles) {\n    const ext = PATH.extname(path).toLowerCase();\n    // Skip if it does not match the extension regex\n    if (options && options.extensions && !options.extensions.test(ext)) return null;\n\n    item.size = stats.size; // File size in bytes\n    item.extension = ext;\n    item.type = !ext.match(/.(jpg|jpeg|png|gif)$/i) ? constants.FILE : 'image';\n\n    if (options && options.attributes) {\n      options.attributes.forEach((attribute) => {\n        item[attribute] = stats[attribute];\n      });\n    }\n\n    if (onEachFile) {\n      onEachFile(item, PATH, stats);\n    }\n  } else if (stats.isDirectory()) {\n    const dirData = safeReadDirSync(path);\n    if (dirData === null) return null;\n\n    if (options && options.attributes) {\n      options.attributes.forEach((attribute) => {\n        item[attribute] = stats[attribute];\n      });\n    }\n\n    if (!options.withChildren) {\n      if (!depth) {\n        item.children = dirData\n          .map((child) =>\n            directoryTree(\n              PATH.join(path, child),\n              options,\n              onEachFile,\n              onEachDirectory,\n              true,\n            ),\n          )\n          .filter((e) => !!e);\n        item.size = item.children.reduce((prev, cur) => prev + cur.size, 0);\n        if (onEachDirectory) {\n          onEachDirectory(item, PATH, stats);\n        }\n      }\n    } else {\n      item.children = dirData\n        .map((child) =>\n          directoryTree(\n            PATH.join(path, child),\n            options,\n            onEachFile,\n            onEachDirectory,\n            false,\n          ),\n        )\n        .filter((e) => !!e);\n      item.size = item.children.reduce((prev, cur) => prev + cur.size, 0);\n      if (onEachDirectory) {\n        onEachDirectory(item, PATH, stats);\n      }\n    }\n  } else {\n    return null; // Or set item.size = 0 for devices, FIFO and sockets ?\n  }\n  item.path =\n    options && options.normalizePath\n      ? options.removePath\n        ? normalizePath(item.path).replace(normalizePath(options.removePath), '')\n        : normalizePath(item.path)\n      : options.removePath\n      ? item.path.replace(options.removePath, '')\n      : item.path;\n  return item;\n}\n","export function escapePath(path) {\n  return typeof path !== 'undefined' &&\n    path !== 'undefined' &&\n    path !== '' &&\n    !path.includes('..') &&\n    !path.includes('./')\n    ? path\n    : '/uploads/';\n}\n\nexport function checkExtension(extension) {\n  const allowedFiles = [\n    '.jpg',\n    '.png',\n    '.gif',\n    '.jpeg',\n    '.svg',\n    '.doc',\n    '.txt',\n    '.csv',\n    '.docx',\n    '.xls',\n    '.xml',\n    '.pdf',\n    '.zip',\n    '.ppt',\n    '.mp4',\n    '.ai',\n    '.psd',\n    '.mp3',\n    '.avi',\n  ];\n  return extension !== ''\n    ? allowedFiles.indexOf(extension) === -1\n      ? false\n      : true\n    : true;\n}\nexport function checkVariables(variables) {\n  let result = true;\n  variables.forEach((element) => {\n    if (element === '' || element === undefined) {\n      result = false;\n    }\n  });\n  return result;\n}\n","export * from './lib/jwt.strategy';\nexport * from './lib/jwt-refresh.strategy';\n","import { Request } from 'express';\nimport { ConfigService } from '@nestjs/config';\nimport { ExtractJwt, Strategy } from 'passport-jwt';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { UnauthorizedException, Injectable } from '@nestjs/common';\n\nimport { JwtDto } from '@koj/common/interfaces';\n\n@Injectable()\nexport class JwtRefreshTokenStrategy extends PassportStrategy(\n  Strategy,\n  'jwt-refresh-token',\n) {\n  constructor(readonly configService: ConfigService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromExtractors([\n        (request: Request) => {\n          const signature = request?.cookies?.['r_sign'];\n          const header = request?.cookies?.['r_header'];\n          const payload = request?.headers?.['x-refresh-payload'];\n          if (!signature || !header || !payload) {\n            throw new UnauthorizedException({\n              message: 'Missing Refresh Token',\n              level: 'warn',\n            });\n          }\n\n          console.log('refresh Token', `${header}.${payload}.${signature}`);\n          return `${header}.${payload}.${signature}`;\n        },\n      ]),\n      ignoreExpiration: false,\n      secretOrKey: configService.get('JWT_REFRESH_SECRET'),\n    });\n  }\n\n  async validate(payload: JwtDto) {\n    console.log(\n      '🚀 ~ file: jwt-refresh.strategy.ts ~ line 38 ~ validate ~ payload',\n      payload,\n    );\n\n    return payload;\n  }\n}\n","import { Request } from 'express';\nimport { ConfigService } from '@nestjs/config';\nimport { Strategy, ExtractJwt } from 'passport-jwt';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { UnauthorizedException, Injectable } from '@nestjs/common';\n\nimport { decrypt } from '@koj/common/utils';\n\nimport { JwtDto } from '@koj/common/interfaces';\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor(readonly configService: ConfigService) {\n    super({\n      jwtFromRequest: ExtractJwt.fromExtractors([\n        (request: Request) => {\n          const signature = request?.cookies?.['a_sign'];\n          const header = request?.cookies?.['a_header'];\n          const payload = request?.headers?.['x-access-payload'];\n          if (!signature || !header || !payload) {\n            // throw new UnauthorizedException({\n            //   message: 'Missing Auth Token',\n            //   level: 'warn',\n            // });\n          }\n\n          console.log(`${header}.${payload}.${signature}`);\n          return `${header}.${payload}.${signature}`;\n        },\n      ]),\n      ignoreExpiration: false,\n      secretOrKey: configService.get('JWT_ACCESS_SECRET'),\n    });\n  }\n\n  async validate(payload: JwtDto) {\n    const privateData = JSON.parse(decrypt(payload.private));\n    return { ...payload, ...privateData };\n  }\n}\n","export * from './lib/file.util';\nexport * from './lib/common.util';\nexport * from './lib/crypto.util';\nexport * from './lib/string.util';\nexport * from './lib/database-query.util';\n","export function template(strings: ReadonlyArray<string>, ...keys) {\n  return function (...values) {\n    const dict: unknown = values[values.length - 1] || {};\n    const result = [strings[0]];\n    keys.forEach(function (key, i) {\n      const value = Number.isInteger(key) ? values[key] : dict[key];\n      result.push(value, strings[i + 1]);\n    });\n    return result.join('');\n  };\n}\n","import * as crypto from 'crypto';\n\n/**\n * initialization vector must 16 byte for 128, 192, 256\n * key must 32 byte\n */\n\nexport interface encryptedData {\n  iv: string;\n  data: string;\n}\n\nconst algorithm = 'aes-256-cbc';\nconst initVector = crypto.randomBytes(16);\nconst defaultSecret = process.env.CRYPTO_AUTH_SECRET || 'defaultSecret!';\nconst defaultKey = crypto.scryptSync(defaultSecret, 'salt', 32);\n\nexport function encrypt(data: string, securitykey: Buffer = defaultKey) {\n  const cipher = crypto.createCipheriv(algorithm, securitykey, initVector);\n  let encryptedData = cipher.update(data, 'utf-8', 'hex');\n  encryptedData += cipher.final('hex');\n  return { iv: initVector.toString('hex'), data: encryptedData };\n  [];\n}\n\nexport function decrypt(encryptedData: encryptedData, securitykey: Buffer = defaultKey) {\n  const { iv, data } = encryptedData;\n  const initVector = Buffer.from(iv, 'hex');\n  const decipher = crypto.createDecipheriv(algorithm, securitykey, initVector);\n  let decryptedData = decipher.update(data, 'hex', 'utf-8');\n  decryptedData += decipher.final('utf-8');\n  return decryptedData;\n}\n","import { camelToSnakeCase } from './string.util';\n\nexport function transformObjectToQuery(object, prefix) {\n  return Object.keys(object)\n    .map((obj) => {\n      console.log('🚀 ~ file: database-query.ts ~ line 6 ~ .map ~ obj', obj);\n      const column = camelToSnakeCase(obj);\n      return prefix ? `${prefix}.\"${column}\"` : column;\n    })\n    .join(', ');\n}\n","import fs from 'fs/promises';\nimport PATH from 'path';\nconst getDirName = PATH.dirname;\n\nexport async function writeFile(path, contents) {\n  console.log('🚀 ~ file: file.util.ts ~ line 6 ~ writeFile ~ path', path);\n  console.log(getDirName(path));\n  await fs.mkdir(getDirName(path), { recursive: true });\n  await fs.writeFile(path, contents);\n}\n","export function getValueAfterLastChar(string: string, char: string) {\n  return string.substring(string.lastIndexOf(char) + 1);\n}\n\nexport function camelToSnakeCase(str) {\n  return str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n}\n","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/config\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/jwt\");","module.exports = require(\"@nestjs/passport\");","module.exports = require(\"@nestjs/platform-express\");","module.exports = require(\"archiver\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"fs-extra\");","module.exports = require(\"multer\");","module.exports = require(\"passport-jwt\");","module.exports = require(\"tslib\");","module.exports = require(\"unzipper\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"fs/promises\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * This is not a production server yet!\n * This is only a minimal backend to get started.\n */\n\nimport { Logger } from '@nestjs/common';\nimport { NestFactory } from '@nestjs/core';\n\nimport { FileManagerModule } from './file-manager.module';\nimport { AllExceptionsFilter } from './exceptions';\nimport cookieParser from 'cookie-parser';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(FileManagerModule);\n  app.useGlobalFilters(new AllExceptionsFilter());\n  const globalPrefix = 'fm';\n  app.setGlobalPrefix(globalPrefix);\n  app.use(cookieParser());\n  const port = 3333;\n  app.enableCors({ origin: true, credentials: true });\n\n  await app.listen(port);\n  Logger.log(`🚀 Application is running on: http://localhost:${port}/${globalPrefix}`);\n}\n\nbootstrap();\n"],"names":[],"sourceRoot":""}