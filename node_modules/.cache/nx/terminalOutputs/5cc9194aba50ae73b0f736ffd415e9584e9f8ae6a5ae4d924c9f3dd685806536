chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (a17ffb5638ab015e)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (6126d5f0b59cd74a)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (ed1bcb88e6b9986f)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (b5d2775197eb4528)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (cf4bc7ac02965e07)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (2f5d619cf17c1317)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (2d6267ea3a4fb2af)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (1c1dda5224d7a7c3)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (6ef0de5f9dcae4ef)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (c435d31bce7e1771)
[36mIssues checking in progress...[39m
[32mNo issues found.[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (c435d31bce7e1771)
[36mIssues checking in progress...[39m
chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 639 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (85a2111fcd1a98d2)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/provider/github.service.ts:29:9[22m[39m
[90mTS2345: [39mArgument of type '{ email: any; domainId: any; username: any; lastname: any; firstname: any; provider: string; picture: any; }' is not assignable to parameter of type 'UserCreateInput'.
  Object literal may only specify known properties, and 'picture' does not exist in type 'UserCreateInput'.
  [0m [90m 27 |[39m         firstname[33m,[39m[0m
  [0m [90m 28 |[39m         provider[33m:[39m [32m"github"[39m[33m,[39m[0m
  [0m[31m[1m>[22m[39m[90m 29 |[39m         picture[33m:[39m avatar_url[33m,[39m[0m
  [0m [90m    |[39m         [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 30 |[39m       })[33m;[39m[0m
  [0m [90m 31 |[39m     }[0m
  [0m [90m 32 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/provider/google.service.ts:22:9[22m[39m
[90mTS2345: [39mArgument of type '{ email: any; picture: any; domainId: any; provider: string; firstname: any; lastname: any; username: any; }' is not assignable to parameter of type 'UserCreateInput'.
  Object literal may only specify known properties, and 'picture' does not exist in type 'UserCreateInput'.
  [0m [90m 20 |[39m       user [33m=[39m [36mawait[39m [36mthis[39m[33m.[39muserService[33m.[39mcreateByUsername({[0m
  [0m [90m 21 |[39m         email[33m,[39m[0m
  [0m[31m[1m>[22m[39m[90m 22 |[39m         picture[33m,[39m[0m
  [0m [90m    |[39m         [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 23 |[39m         domainId[33m,[39m[0m
  [0m [90m 24 |[39m         provider[33m:[39m [32m'google'[39m[33m,[39m[0m
  [0m [90m 25 |[39m         firstname[33m:[39m given_name[33m,[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (7ce8086294cccda3)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (6a6cab57bc051e7d)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (d3d50e8d51d37665)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (ad406ff1833dabfe)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (422fcbab23df68c4)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (f05c484066bd1a09)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (f78a71708c8668bc)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (a60ee2d0db636c23)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (236a5128d7fe6cfe)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

chunk (runtime: main) [1m[32mmain.js[39m[22m (main) 640 KiB [1m[33m[entry][39m[22m [1m[32m[rendered][39m[22m
webpack compiled [1m[32msuccessfully[39m[22m (8bc35e6c3f615153)
[36mIssues checking in progress...[39m
[31m[1mERROR in apps/koj/src/modules/auth/auth.controller.ts:68:7[22m[39m
[90mTS2345: [39mArgument of type 'UserCustom' is not assignable to parameter of type 'User'.
  Property 'avatar' is missing in type 'UserCustom' but required in type 'User'.
  [0m [90m 66 |[39m[0m
  [0m [90m 67 |[39m     [36mconst[39m [accessToken[33m,[39m refreshToken] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mauthService[33m.[39mgenerateToken([0m
  [0m[31m[1m>[22m[39m[90m 68 |[39m       user[0m
  [0m [90m    |[39m       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 69 |[39m     )[33m;[39m[0m
  [0m [90m 70 |[39m[0m
  [0m [90m 71 |[39m     [36mconst[39m [accessTokenHeader[33m,[39m accessTokenPayload[33m,[39m accessTokenSignature] [33m=[39m[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:139:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Pro...' is not assignable to type '<TResult1 = import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User, TResult2 = never>(onfulfilled?: (value: import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User) => TResult1 | PromiseLike<...>, onrejected?: (reason: any) => TResult2 | PromiseLike<...>) => Promise<...>'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Property 'avatar' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User'.
  [0m [90m 137 |[39m[0m
  [0m [90m 138 |[39m   validateUser(id[33m:[39m [33mUser[39m[[32m"id"[39m])[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 139 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id[33m:[39m id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 140 |[39m   }[0m
  [0m [90m 141 |[39m[0m
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m

[31m[1mERROR in apps/koj/src/modules/auth/auth.service.ts:144:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 142 |[39m   getUserFromToken(token[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m [90m 143 |[39m     [36mconst[39m id [33m=[39m [36mthis[39m[33m.[39mjwtService[33m.[39mdecode(token)[[32m"id"[39m][33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 144 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindUnique({ where[33m:[39m { id } })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 145 |[39m   }[0m
  [0m [90m 146 |[39m[0m
  [0m [90m 147 |[39m   generateToken(user[33m:[39m [33mUser[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/auth/strategies/local.strategy.ts:17:5[22m[39m
[90mTS2322: [39mType 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 15 |[39m[0m
  [0m [90m 16 |[39m   [36masync[39m validate(request[33m,[39m email[33m:[39m string[33m,[39m password[33m:[39m string)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 17 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mauthService[33m.[39mgetAuthenticatedUser(email[33m,[39m password[33m,[39m request[33m.[39mdomainId)[33m;[39m[0m
  [0m [90m    |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 18 |[39m   }[0m
  [0m [90m 19 |[39m }[0m
  [0m [90m 20 |[39m[0m

[31m[1mERROR in apps/koj/src/modules/casbin/permission/permission.service.ts:27:23[22m[39m
[90mTS2345: [39mArgument of type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' is not assignable to parameter of type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  Property 'picture' is missing in type 'import("/mnt/Data/codetest/nx-backend/koj/generated/user/user.model").User' but required in type 'import("/mnt/Data/codetest/nx-backend/koj/node_modules/.prisma/client/index").User'.
  [0m [90m 25 |[39m   [36masync[39m getPermissionForUser(user[33m:[39m [33mUser[39m) {[0m
  [0m [90m 26 |[39m     [36mconst[39m permissions[33m:[39m { permission[33m:[39m string }[] [33m=[39m [36mawait[39m [36mthis[39m[33m.[39mprisma[33m.[39m$queryRaw([0m
  [0m[31m[1m>[22m[39m[90m 27 |[39m       permissionQuery(user)[33m,[39m[0m
  [0m [90m    |[39m                       [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 28 |[39m     )[33m;[39m[0m
  [0m [90m 29 |[39m[0m
  [0m [90m 30 |[39m     [36mreturn[39m permissions[33m.[39mmap((permission) [33m=>[39m permission[33m.[39mpermission)[33m;[39m[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:85:38[22m[39m
[90mTS2345: [39mArgument of type '{ orderBy?: UserOrderByWithRelationInput[]; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: ("id" | "email" | ... 14 more ... | "extendData")[]; where: UserWhereInput; }' is not assignable to parameter of type '{ select?: UserSelect; where?: UserWhereInput; orderBy?: Enumerable<UserOrderByWithRelationInput>; cursor?: UserWhereUniqueInput; take?: number; skip?: number; distinct?: Enumerable<...>; }'.
  Types of property 'distinct' are incompatible.
    Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'Enumerable<UserScalarFieldEnum>'.
      Type '("id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData")[]' is not assignable to type 'UserScalarFieldEnum[]'.
        Type '"id" | "email" | "username" | "password" | "firstname" | "lastname" | "status" | "role" | "avatar" | "provider" | "domainId" | "createdById" | "createdByUsername" | "createdByName" | "createdAt" | "updatedAt" | "extendData"' is not assignable to type 'UserScalarFieldEnum'.
          Type '"avatar"' is not assignable to type 'UserScalarFieldEnum'.
  [0m [90m 83 |[39m     [36mconst[39m { where [33m=[39m {}[33m,[39m [33m...[39margs$ } [33m=[39m args[33m;[39m[0m
  [0m [90m 84 |[39m     where[33m.[39mdomainId [33m=[39m context[33m.[39mwhere[33m.[39mdomainId[33m;[39m[0m
  [0m[31m[1m>[22m[39m[90m 85 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mfindMany({ where[33m,[39m [33m...[39margs$[33m,[39m [33m...[39mselect })[33m;[39m[0m
  [0m [90m    |[39m                                      [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 86 |[39m   }[0m
  [0m [90m 87 |[39m[0m
  [0m [90m 88 |[39m   findUnique(where[33m:[39m [33mUserWhereUniqueInput[39m[33m,[39m select[33m?[39m[33m:[39m [33mPrisma[39m[33m.[39m[33mUserSelect[39m) {[0m

[31m[1mERROR in apps/koj/src/modules/user/user.service.ts:113:5[22m[39m
[90mTS2322: [39mType 'Prisma__UserClient<User>' is not assignable to type 'Promise<User>'.
  [0m [90m 111 |[39m[0m
  [0m [90m 112 |[39m   update(data[33m:[39m [33mUserUpdateInput[39m[33m,[39m where[33m:[39m [33mUserWhereUniqueInput[39m)[33m:[39m [33mPromise[39m[33m<[39m[33mUser[39m[33m>[39m {[0m
  [0m[31m[1m>[22m[39m[90m 113 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mprisma[33m.[39muser[33m.[39mupdate({ data[33m,[39m where })[33m;[39m[0m
  [0m [90m     |[39m     [31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[31m[1m^[22m[39m[0m
  [0m [90m 114 |[39m   }[0m
  [0m [90m 115 |[39m[0m
  [0m [90m 116 |[39m   remove(id[33m:[39m number) {[0m

